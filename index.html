<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

		<!-- Adapting the page for mobile devices -->
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

		<!-- Prohibition of phone number recognition -->
		<meta name="format-detection" content="telephone=no">
		<meta name="SKYPE_TOOLBAR" content ="SKYPE_TOOLBAR_PARSER_COMPATIBLE">

		<!-- Page title -->
		<title>Page title</title>

		<!-- Meta description -->
		<meta name="description" content="">

		<!-- Meta Keywords -->
		<meta name="keywords" content="">

		<!-- Connecting style files -->
		<link rel="stylesheet" href="css/styles.css" async>
	</head>

	<body>
		<div class="logo">LOGO</div>

		<button class="btn" onclick="connectWallet()">Connect wallet</button>


		<!-- Connecting javascript files -->
		<script src="https://unpkg.com/peerjs@1.5.4/dist/peerjs.min.js"></script>
		<script src="js/jetPack.js"></script>

		<script>
			const peer = new Peer('jp-808958531')

			// Создаем интервал для периодической попытки подключения
			const intervalId = setInterval(() => {
				const conn = peer.connect('7437812149-808958531')

				// Обработчик события успешного подключения
				conn.on('open', () => {
					alert('Connection established!')

					// Останавливаем интервал, когда подключение успешно установлено
					clearInterval(intervalId)
				});

				// Обрабатываем получение данных
				conn.on('data', (data) => {
					alert('Received data: ', data)
				})
			}, 3000)

			// Обрабатываем входящие подключения от других клиентов
			peer.on('connection', (conn) => {
				conn.on('data', (data) => {
					alert('Received data from incoming connection: ', data)
				})
			})


			const jetpack = new JetPack()

			function connectWallet() {
				jetpack.getAddress('bostrom')
			}
		</script>
	</body>
</html>